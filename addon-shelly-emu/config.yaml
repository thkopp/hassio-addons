name: "Shelly Pro 3EM Emulator"
description: "Emuliert ein Shelly Pro 3EM mit lokalen Sensorwerten"
version: "0.0.1.6"
url: https://github.com/thkopp/hassio-addons/tree/main/addon-shelly-emu
slug: "shelly_emulator"
init: false
arch:
  - aarch64
  - amd64
image: "ghcr.io/thkopp/addon-shelly-emu"

boot: "manual"
startup: "application"

ingress: true
ingress_port: 80
panel_icon: "icon: mdi:meter-electric-outline"
panel_title: "Shelly Pro 3EM Emu"

ports:
  80/tcp: 80

options:
  ha_connect:
    ha_url: "http://172.30.32.1:8123"
    ha_token:

  shelly_pro3em:
    device_name: "shelly-pro3em-emu"
    device_id: "shelly-pro3em-emu-1"

  sensors:
    total:
      power: ""
      power_from_grid: "sensor.tibber_pulse_loftness_leistung"
      power_to_grid: "sensor.tibber_pulse_loftness_einspeiseleistung"
      energy: "sensor.tibber_pulse_loftness_zahlerstand_verbrauch"

    phase_l1:
      voltage: "sensor.tibber_pulse_loftness_spannung_l1"
      current: "sensor.tibber_pulse_loftness_stromstarke_l1"
      power: ""

    phase_l2:
      voltage: "sensor.tibber_pulse_loftness_spannung_l2"
      current: "sensor.tibber_pulse_loftness_stromstarke_l2"
      power: ""

    phase_l3:
      voltage: "sensor.tibber_pulse_loftness_spannung_l3"
      current: "sensor.tibber_pulse_loftness_stromstarke_l3"
      power: ""

schema:
  ha_connect:
    ha_url: str
    ha_token: str

  shelly_pro3em:
    device_name: str
    device_id: str

  sensors:
    total:
      power: str?
      power_from_grid: str?
      power_to_grid: str?
      energy: str?

    phase_l1:
      voltage: str?
      current: str?
      power: str?

    phase_l2:
      voltage: str?
      current: str?
      power: str?

    phase_l3:
      voltage: str?
      current: str?
      power: str?
